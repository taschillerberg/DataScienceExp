install.packages("rvest")
print()
print("")
print('-----------------------------------------------------------------------')
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- read_csv(paste0(fileloc1,loc1[1],'CornProduction_19502022_ALKS','.csv'),
col_names = TRUE, cols(.default = col_double()))
# Libraries ####################################################################
library(tidyverse)
setwd("C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Script/")
fileloc1 <- 'C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Data/'
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- read_csv(paste0(fileloc1,loc1[1],'CornProduction_19502022_ALKS','.csv'),
col_names = TRUE, cols(.default = col_double()))
problems(dat)
View(dat)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- read_csv(paste0(fileloc1,loc1[1],'CornProduction_19502022_ALKS','.csv'),
col_names = TRUE)
View(dat)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- read_csv(paste0(fileloc1,loc1[1],'CornYeild_19502022_ALKS','.csv'),
col_names = TRUE)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE))
View(dat)
summary(dat)
dat <- read_csv(paste0(fileloc1, loc1[1], 'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, cols(.default = col_double()))
dat <- read_csv(paste0(fileloc1, loc1[1], 'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, cols(c))
dat <- read_csv(paste0(fileloc1, loc1[1], 'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols(c))
dat <- read_csv(paste0(fileloc1, loc1[1], 'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c'))
summary(dat
)
dat1 <- read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE)
dat <- read_csv(paste0(fileloc1, loc1[1], 'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c'))
summary(dat)
dat1 <- read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE)
summary(dat1)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE))
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE), col_types = cols('c'),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE), col_types = cols('c'))
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE), col_types = cols('c'),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE), col_types = cols('c'))
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
View(dat)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
summary(dat)
dim(dat)
class(dat)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
dat <- dat %>%
filter(County == 'OTHER COUNTIES')
dim(dat)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(dat)
dim(dat)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
dat <- dat %>%
filter(!County == 'OTHER COUNTIES')
dim(dat)
# Removing unwanted columns
dat <- dat(!c(Program, Period, `Week Ending`))
# Removing unwanted columns
dat <- dat %>%
subset(!c(Program, Period, `Week Ending`))
# Removing unwanted columns
dat <- dat %>%
subset(-c(Program, Period, `Week Ending`))
# Removing unwanted columns
dat <- dat %>%
subset(-c(Program, Period))
# Removing unwanted columns
dat <- dat %>%
subset(select = -c(Program, Period))
dim(dat)
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
dat <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(dat)
dim(dat)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
dat <- dat %>%
filter(!County == 'OTHER COUNTIES')
# Removing unwanted columns
dat <- dat %>%
subset(select = -c(Program, Period, `Week Ending`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Domain, `Domain Category`))
dim(dat)
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
dim(datCorn)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
# Changing from a long
datCorn <- spread(datCorn, key = Year, value = Value)
View(dat)
View(datCorn)
rm(dat, dat1)
# P1_Yield.R
# About: This program will open the county yield data.
#
# Inputs:  CornYield
# Outputs:
#
# T. A. Schillerberg
#               Sep. 2023
#      Updated: Oct. 2023
# Office Computer
setwd("C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Script/")
fileloc1 <- 'C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Data/'
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
dim(datCorn)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
stocks <- tibble(
time = as.Date("2009-01-01") + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
head(stocks)
stocksm <- stocks %>% gather(stock, price, -time
stocksm <- stocks %>% gather(stock, price, -time)
stocksm <- stocks %>% gather(stock, price, -time)
rm(stocks, stockssm)
rm(stocks, stocksm)
df <- tibble(x = c("a", "b"), y = c(3, 4), z = c(5, 6))
head(df)
df %>%
spread(x, y) %>%
gather("x", "y", a:b, na.rm = TRUE)
stocks <- tibble(
time = as.Date("2009-01-01") + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
View(stocksm)
stocksm %>% spread(stock, price)
head(stocksm)
stocksm %>% spread(stock, price)
setwd("C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Script/")
fileloc1 <- 'C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Data/'
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
head(datCorn)
dim(datCorn)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
# Changing from a long
datCorn2 <- spread(datCorn, key = Year, value = Value, fill = NA)
# Changing from a long
datCorn2 <- spread(datCorn, key = as.character(Year), value = Value, fill = NA)
head(datCorn)
# Changing from a long
datCorn$Year <- as.character(datCorn$Year)
datCorn2 <- spread(datCorn, key = Year, value = Value, fill = NA)
# Changing from a long
dat <- datCorn[1:150,]
View(dat)
spread(dat, key = Year, value = Value, fill = NA)
# Changing from a long
spread(datCorn, key = Year, value = Value, fill = NA)
rlang::last_error()
rlang::last_trace()
datCorn["1475"]
datCorn[1475,]
setwd("C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Script/")
fileloc1 <- 'C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Data/'
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
head(datCorn)
dim(datCorn)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES' | !County == 'OTHER (COMBINED) COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
head(datCorn)
dim(datCorn)
# . 3.2 Pre-processing ---------------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES' ) %>%
filter(!County == 'OTHER (COMBINED) COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
# Changing from a long
spread(datCorn, key = Year, value = Value, fill = NA)
View(datCorn)
# Changing from a long
datCorn <- spread(datCorn, key = Year, value = Value, fill = NA)
View(datCorn)
dim(datCorn)
summary(datCorn)
2022-1950
# Part II Functions ############################################################
naSum <- function(dat){
sum(is.na(dat))
}
sum(is.na(datCorn$1950))
sum(is.na(datCorn$`1950`))
# Plot of number of available data by year
year <- 1950:2022
y1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 1, FUN = naSum)
y1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 2, FUN = naSum)
dat <- c(year, y1)
class(datCorn)
class(dat)
dat <- tibble(year, y1)
View(dat)
plot(dat)
# Remove the counties with more than 30% of their data missing
x1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 1, FUN = naSum)
x1 <- x1/length(1950:2022)
x1
# Remove the counties with more than 30% of their data missing
x1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 1, FUN = naSum)
x1
x1 <- x1/length(1950:2022)
x1
datCorn[x1 > 0.3] <- NA
datCorn[x1 > 0.3,] <- NA
datCorn <- na.omit(datCorn)
setwd("C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Script/")
fileloc1 <- 'C:/Users/tas0053/OneDrive - Auburn University/Research/DataScienceDemo/Data/'
# Libraries ####################################################################
library(tidyverse)
# Part I Variables To Change ###################################################
loc1 <- c('NASS/','NOAA/')
# Part II Functions ############################################################
naSum <- function(dat){
sum(is.na(dat))
}
# Part III Exploring Yield #####################################################
# . 3.1 Opening and combining yield --------------------------------------------
datCorn <- rbind(read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_ALKS','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_KYNY','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_NCVA','.csv'),
col_names = TRUE, col_types = cols('c')),
read_csv(paste0(fileloc1,loc1[1],'CornYield_19502022_WAWY','.csv'),
col_names = TRUE, col_types = cols('c')))
# We read the data in as a character, because we want to maintain the '0' for
# the state and county fips codes. As this will be needed later on when we are
# combining the climate data. Note in the summary not all columns were read in
# as a character.
summary(datCorn)
head(datCorn)
dim(datCorn)
# . 3.2 Yield Pre-processing ---------------------------------------------------
# Removing rows of "Other Counties"
datCorn <- datCorn %>%
filter(!County == 'OTHER COUNTIES' ) %>%
filter(!County == 'OTHER (COMBINED) COUNTIES')
# Removing unwanted columns
datCorn <- datCorn %>%
subset(select = -c(Program, Period, `Week Ending`, `Geo Level`, `Ag District`,
`Ag District Code`, `Zip Code`, Region, watershed_code,
Watershed, Commodity, `Data Item`, Domain,
`Domain Category`, `CV (%)`))
dim(datCorn)
# Changing from a long
datCorn <- spread(datCorn, key = Year, value = Value, fill = NA)
dim(datCorn)
summary(datCorn)
# Remove the counties with more than 30% of their data missing
x1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 1, FUN = naSum)
x1 <- x1/length(1950:2022)
datCorn[x1 > 0.3,] <- NA
datCorn[!is.na(datCorn$State)]
datCorn[!is.na(datCorn$State),]
dim(datCorn)
datCorn <- datCorn[!is.na(datCorn$State),]
dim(datCorn)
# Plot of number of available data by year
year <- 1950:2022
y1 <- apply(datCorn[,5:ncol(datCorn)], MARGIN = 2, FUN = naSum)
dat <- tibble(year, y1)
plot(dat)
dat
library(caret)
install.packages("caret")
install.packages("caret")
install.packages("caret")
install.packages("caret")
install.packages("caret")
